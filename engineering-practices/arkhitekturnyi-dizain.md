# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –¥–∏–∑–∞–π–Ω

| –°—Ç–∞—Ç—É—Å –¥–æ–∫—É–º–µ–Ω—Ç–∞         | –ß–µ—Ä–Ω–æ–≤–∏–∫ / –ù–∞ —Ä–µ–≤—å—é / –û–¥–æ–±—Ä–µ–Ω / –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ / –í –∞—Ä—Ö–∏–≤–µ                     |
| ------------------------ | --------------------------------------------------------------------------- |
| –°–≤—è–∑–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ / —ç–ø–∏–∫–∏ |                                                                             |
| –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è     | (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)                                                               |
| –ê–≤—Ç–æ—Ä(—ã)                 |                                                                             |
| –†–µ–≤—å—é–≤–µ—Ä—ã                | _–†–µ–≤—å—é —Ç–µ—Ö–ª–∏–¥–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤ –∑–∞–¥–∞—á–∞—Ö, –≥–¥–µ –º–µ–Ω—è–µ—Ç—Å—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞_ |
| –°—Ç–∞—Ç—É—Å —Ä–µ–≤—å—é             | <ul><li>Approve Frontend</li><li>Approve Backend</li></ul>                  |

> –ü–æ—Å—Ç–∞—Ä–∞–π—Ç–µ—Å—å —Å–¥–µ–ª–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç –Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω–Ω—ã–º –ª–∏—à–Ω–∏–º–∏ –¥–µ—Ç–∞–ª—è–º–∏.\
> –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è > —Ç–µ–∫—Å—Ç, –Ω–æ –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –¥–∏–∞–≥—Ä–∞–º–º —Å—Ç–æ–∏—Ç –¥–æ–±–∞–≤–ª—è—Ç—å —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ.\
> –î–æ–∫—É–º–µ–Ω—Ç –ø–∏—à–µ—Ç—Å—è –Ω–∞ –≤—ã–ø—É—Å–∫–∞–µ–º—É—é end-to-end —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∏ –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–∏–ø–∞ –∑–∞–¥–∞—á–∏.

### –ö–æ–Ω—Ç–µ–∫—Å—Ç

–ö–∞–∫–æ–π –±–∏–∑–Ω–µ—Å-–ø—Ä–æ–±–ª–µ–º–æ–π –∏–ª–∏ —Ñ–∏—á–µ–π –≤—ã–∑–≤–∞–Ω–æ –∏–∑–º–µ–Ω–µ–Ω–∏–µ? –ö–∞–∫ —ç—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å —Ç–µ–∫—É—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π?

### –û–±–ª–∞—Å—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

–ß—Ç–æ –≤—Ö–æ–¥–∏—Ç –≤ —Ä–µ—à–µ–Ω–∏–µ, –∞ —á—Ç–æ –∏—Å–∫–ª—é—á–∞–µ—Ç—Å—è? –ù–∞–ø—Ä–∏–º–µ—Ä:

**–í—Ö–æ–¥–∏—Ç:**

* –†–∞—Å—á—ë—Ç –ø–æ–¥–ø–∏—Å–æ–∫ —Å –Ω–æ–≤—ã–º–∏ —Ç–∞—Ä–∏—Ñ–∞–º–∏
* –•—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ —Ä–∞—Å—á—ë—Ç–æ–≤

**–ù–µ –≤—Ö–æ–¥–∏—Ç:**

* –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–∞—Å—á—ë—Ç–æ–≤ –≤ UI
* –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –±–∏–ª–ª–∏–Ω–≥–µ

### –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ –∏ —Å–≤—è–∑—å —Å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏

–ö–∞–∫–∏–µ –±–∏–∑–Ω–µ—Å –∏ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –ø–æ–∫—Ä—ã–≤–∞—é—Ç—Å—è —ç—Ç–∏–º –¥–∏–∑–∞–π–Ω–æ–º.

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

#### #–î–∏–∞–≥—Ä–∞–º–º–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

–ú–æ–∂–Ω–æ –ø–æ —É—Ä–æ–≤–Ω—è–º: —Å–∏—Å—Ç–µ–º–∞ / –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä / –∫–æ–º–ø–æ–Ω–µ–Ω—Ç.

#### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å | –í–ª–∞–¥–µ–ª–µ—Ü        |
| --------- | --------------- | --------------- |
|           |                 | –ö–æ–º–∞–Ω–¥–∞ A       |
|           |                 | –ö–æ–º–∞–Ω–¥–∞ B       |
|           |                 | –í–Ω–µ—à–Ω—è—è —Å–∏—Å—Ç–µ–º–∞ |

#### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

| –¢–∞–±–ª–∏—Ü–∞ | –¢–∏–ø | –ò–∑–º–µ–Ω–µ–Ω–∏—è |
| ------- | --- | --------- |
|         |     |           |

#### –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ —Å–æ–±—ã—Ç–∏—è

| –¢–∏–ø      | –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å / –°–æ–±—ã—Ç–∏–µ          | –§–æ—Ä–º–∞—Ç | Auth   |
| -------- | ---------------------------- | ------ | ------ |
| HTTP API | POST \<URL>                  | JSON   | Bearer |
| Event    | subscription.recalculated.v1 | avro   | ‚Äî      |

### –ü–æ–≤–µ–¥–µ–Ω–∏–µ

–û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ (–≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º –≤–∏–¥–µ –∏–ª–∏ –∫–∞–∫ –¥–∏–∞–≥—Ä–∞–º–º–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π). –ù–∞–ø—Ä–∏–º–µ—Ä:

1. –ê–¥–º–∏–Ω –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø–µ—Ä–µ—Å—á—ë—Ç –≤—Ä—É—á–Ω—É—é
2. –°–µ—Ä–≤–∏—Å —Å–æ–±–∏—Ä–∞–µ—Ç –≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–¥–ø–∏—Å–∫–∏
3. –î–ª—è –∫–∞–∂–¥–æ–π –ø–æ–¥–ø–∏—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç—Å—è –¥–∂–æ–±–∞ —Ä–∞—Å—á—ë—Ç–∞
4. –î–∂–æ–±—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≤ –≤–æ—Ä–∫–µ—Ä–µ
5. –ü–æ—Å–ª–µ —Ä–∞—Å—á—ë—Ç–∞ –ø—É–±–ª–∏–∫—É–µ—Ç—Å—è —Å–æ–±—ã—Ç–∏–µ `subscription.recalculated`

_–î–æ–ø—É—Å–∫–∞—é—Ç—Å—è —Å—Å—ã–ª–∫–∏ –Ω–∞ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è._

### –û—à–∏–±–∫–∏ –∏ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å

–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ —Å–±–æ—è—Ö:

* –ö–∞–∫ —Ä–µ—Ç—Ä–∞–∏—Ç—Å—è?
* –ï—Å—Ç—å –ª–∏ –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è?
* –ì–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –Ω–µ—É—Å–ø–µ—à–Ω—ã–µ —Ä–∞—Å—á—ë—Ç—ã?
* –ö–∞–∫–∏–µ –∞–ª–µ—Ä—Ç—ã?

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

üëâüèª –°—Ç—Ä–∞—Ç–µ–≥–∏—è –∫–æ–Ω—Ç—Ä–æ–ª—è –∫–∞—á–µ—Å—Ç–≤–∞

| –ß—Ç–æ     | –ü—Ä–∏–º–µ—Ä                                               |
| ------- | ---------------------------------------------------- |
| –¢–µ—Å—Ç—ã   | –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ç–µ—Å—Ç –Ω–∞ –ø–µ—Ä–µ—Å—á—ë—Ç —Ç–∞—Ä–∏—Ñ–∞ `Standard`    |
| –ú–µ—Ç—Ä–∏–∫–∏ | `subscription.calculation.duration`                  |
| –ê–ª–µ—Ä—Ç—ã  | –û—à–∏–±–∫–∏ >5% –∑–∞ 10 –º–∏–Ω—É—Ç –ø–æ `calculation.failure.rate` |

### –ü—Ä–æ—á–∏–µ –Ω–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

üëâüèª –ù–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

_–î–æ–ø—É—Å–∫–∞–µ—Ç—Å—è —Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è._

### –ü–ª–∞–Ω –≤–Ω–µ–¥—Ä–µ–Ω–∏—è

–†–∞–∑–±–µ–π –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –ø–æ —ç—Ç–∞–ø–∞–º, –µ—Å–ª–∏ –æ–Ω–æ —Å–ª–æ–∂–Ω–æ–µ –∏–ª–∏ –Ω—É–∂–Ω–æ –≤—ã–∫–∞—Ç—ã–≤–∞—Ç—å –ø–æ —á–∞—Å—Ç—è–º. –£–∫–∞–∂–∏ –∑–∞–≤–∏—Å–∏–º—ã–µ –∫–æ–º–∞–Ω–¥—ã, —Å–µ—Ä–≤–∏—Å—ã, –æ–∫—Ä—É–∂–µ–Ω–∏—è.

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã –∏ –æ—Ç–∫–ª–æ–Ω—ë–Ω–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã

–ö–∞–∫–∏–µ –ø–æ–¥—Ö–æ–¥—ã —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–ª–∏—Å—å –∏ –ø–æ—á–µ–º—É –±—ã–ª–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω—ã?

–ü–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —É–∫–∞–∑—ã–≤–∞—Ç—å –∫–∞–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –≤–ª–∏—è—é—Ç –Ω–∞ —Å—Ä–æ–∫–∏.

–ü—Ä–∏–º–µ—Ä:

* –° —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–æ–º –∑–∞–¥–∞—á–∞ –∑–∞—Ç—è–Ω–µ—Ç—Å—è ‚Äì –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –≤ —Ä–∞–π–æ–Ω–µ 3—Ö –º–µ—Å—è—Ü–µ–≤
* –ë–µ–∑ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ ‚Äì 1 –º–µ—Å—è—Ü, –Ω–æ –±—É–¥—É—Ç –∂–∞–ª–æ–±—ã –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–∞ –º–µ–¥–ª–µ–Ω–Ω—É—é —Ä–∞–±–æ—Ç—É —Ñ–∏–ª—å—Ç—Ä–æ–≤ (1-2 –º–∏–Ω—É—Ç—ã)

### –†–∏—Å–∫–∏ –∏ –º–µ—Ä—ã

–ß—Ç–æ –º–æ–∂–µ—Ç –ø–æ–π—Ç–∏ –Ω–µ —Ç–∞–∫? –ö–∞–∫ –º–æ–∂–Ω–æ –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —É—â–µ—Ä–±?
